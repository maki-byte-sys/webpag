<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Enrollment System - Class Access</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
*{font-family:'Poppins',sans-serif}
body{background:linear-gradient(135deg,#eef2f7,#f8f9fb);min-height:100vh;display:flex;flex-direction:column}
.header{background:linear-gradient(135deg,#0d6efd,#6610f2);color:#fff;padding:60px 20px;text-align:center}
.nav-section{box-shadow:0 6px 20px rgba(0,0,0,.05)}
.nav-tabs .nav-link.active{background:linear-gradient(135deg,#0d6efd,#6610f2);color:#fff;border-radius:8px}
.card{border-radius:20px;box-shadow:0 15px 40px rgba(0,0,0,.08)}
footer{margin-top:auto;background:#fff;border-top:1px solid #e5e5e5;padding:20px}
.hidden{display:none}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
<h1 class="fw-bold">Enrollment System</h1>
<p>Binalatongan Community College</p>
</div>

<!-- NAV -->
<div class="container-fluid bg-light py-2 nav-section">
<div class="d-flex justify-content-between align-items-center">
<ul class="nav nav-tabs">
<li class="nav-item"><a class="nav-link" href="index.html">Student</a></li>
<li class="nav-item"><a class="nav-link" href="teachers.html">Teacher</a></li>
<li class="nav-item"><a class="nav-link" href="subjects.html">Subject</a></li>
<li class="nav-item"><a class="nav-link active" href="#">Class Access</a></li>
</ul>
<button class="btn btn-outline-danger btn-sm">Logout</button>
</div>
</div>

<div class="container my-4">

<!-- ================= CLASS LIST ================= -->
<div class="card mb-4">
<div class="card-header"><h5><i class="fas fa-layer-group"></i> Class Details</h5></div>
<div class="card-body table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>#</th>
<th>Subject Name</th>
<th>Units</th>
<th>Action</th>
</tr>
</thead>
<tbody id="subjectTable"></tbody>
</table>
</div>
</div>

<!-- ================= CLASS STUDENTS ================= -->
<div class="card mb-4 hidden" id="classPanel">
<div class="card-header d-flex justify-content-between">
<h5 id="classTitle"></h5>
<button class="btn btn-secondary btn-sm" onclick="closeClass()">Back</button>
</div>

<div class="card-body table-responsive">
<h6>Enrolled Students</h6>
<table class="table table-hover">
<thead>
<tr>
<th>ID</th><th>Name</th><th>Email</th><th>Course</th><th>Action</th>
</tr>
</thead>
<tbody id="enrolledTable"></tbody>
</table>

<hr>

<h6>All Students</h6>
<table class="table table-hover">
<thead>
<tr>
<th>ID</th><th>Name</th><th>Email</th><th>Course</th><th>Action</th>
</tr>
</thead>
<tbody id="allStudentsTable"></tbody>
</table>
</div>
</div>

</div>

<footer class="text-center">
<p class="mb-0">Enrollment System Â© 2025</p>
</footer>

<script>
// ===== SUBJECTS (UPDATED LIST) =====
const subjects = [
{ id:1, name:"Data Mining", units:3 },
{ id:2, name:"System Integration and Architecture", units:3 },
{ id:3, name:"Software Engineering", units:3 },
{ id:4, name:"Purposive Communication", units:3 },
{ id:5, name:"Integrative Programming and Technologies 1", units:3 }
];

// ===== SAMPLE STUDENTS =====
const students = [
{id:1,name:"Mark Zuckerberg",email:"mark@bcc.edu.ph",course:"BSIT"},
{id:2,name:"Elon Musk",email:"elon@bcc.edu.ph",course:"BSIT"},
{id:3,name:"Ada Lovelace",email:"ada@bcc.edu.ph",course:"BSIT"},
{id:4,name:"Bill Gates",email:"bill@bcc.edu.ph",course:"BSIT"}
];

// ===== ENROLLMENTS =====
let enrollments = {};

// ===== RENDER SUBJECTS =====
const subjectTable = document.getElementById("subjectTable");

subjects.forEach(s=>{
subjectTable.innerHTML+=`
<tr>
<td>${s.id}</td>
<td>${s.name}</td>
<td>${s.units}</td>
<td>
<button class="btn btn-info btn-sm" onclick="openClass(${s.id})">
<i class="fas fa-users"></i> View Students
</button>
</td>
</tr>`;
});

// ===== OPEN CLASS =====
function openClass(subjectId){
document.getElementById("classPanel").classList.remove("hidden");
document.getElementById("classTitle").textContent =
subjects.find(s=>s.id===subjectId).name;

if(!enrollments[subjectId]) enrollments[subjectId]=[];
renderStudents(subjectId);
}

// ===== CLOSE CLASS =====
function closeClass(){
document.getElementById("classPanel").classList.add("hidden");
}

// ===== RENDER STUDENTS =====
function renderStudents(subjectId){
const enrolledTable=document.getElementById("enrolledTable");
const allStudentsTable=document.getElementById("allStudentsTable");
enrolledTable.innerHTML="";
allStudentsTable.innerHTML="";

enrollments[subjectId].forEach(id=>{
const s=students.find(x=>x.id===id);
enrolledTable.innerHTML+=`
<tr>
<td>${s.id}</td>
<td>${s.name}</td>
<td>${s.email}</td>
<td>${s.course}</td>
<td><button class="btn btn-danger btn-sm" onclick="removeStudent(${subjectId},${id})">Remove</button></td>
</tr>`;
});

students.forEach(s=>{
if(enrollments[subjectId].includes(s.id))return;
allStudentsTable.innerHTML+=`
<tr>
<td>${s.id}</td>
<td>${s.name}</td>
<td>${s.email}</td>
<td>${s.course}</td>
<td><button class="btn btn-primary btn-sm" onclick="enrollStudent(${subjectId},${s.id})">Enroll</button></td>
</tr>`;
});
}

function enrollStudent(subjectId,studentId){
enrollments[subjectId].push(studentId);
renderStudents(subjectId);
}

function removeStudent(subjectId,studentId){
enrollments[subjectId]=enrollments[subjectId].filter(id=>id!==studentId);
renderStudents(subjectId);
}
</script>

</body>
</html>
