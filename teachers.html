<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Teacher Management - Enrollment System</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
* { font-family: 'Poppins', sans-serif; }
body {
    background: linear-gradient(135deg, #eef2f7, #f8f9fb);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}
.header-section {
    padding: 80px 20px;
    background: linear-gradient(135deg, #198754, #20c997);
    color: #fff;
}
.header-card {
    max-width: 700px;
    margin: auto;
    background: rgba(255,255,255,0.15);
    border-radius: 25px;
    padding: 35px;
    backdrop-filter: blur(12px);
}
.school-icon {
    width: 80px;
    height: 80px;
    background: rgba(255,255,255,0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 36px;
    margin: auto auto 15px;
}
.nav-tabs .nav-link.active {
    background: linear-gradient(135deg, #198754, #20c997);
    color: #fff;
    border-radius: 8px;
}
.card {
    border-radius: 20px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.08);
}
.badge {
    padding: 7px 12px;
    border-radius: 50px;
}
footer {
    margin-top: auto;
    padding: 20px 0;
    background: #fff;
    border-top: 1px solid #e5e5e5;
}
</style>
</head>
<body>

<!-- HEADER -->
<div class="container-fluid header-section text-center">
    <div class="header-card">
        <div class="school-icon"><i class="fas fa-university"></i></div>
        <h1>Enrollment System</h1>
        <p>Binalatongan Community College</p>
    </div>
</div>

<!-- NAV -->
<div class="container-fluid bg-light py-2">
<div class="d-flex justify-content-between align-items-center">
<ul class="nav nav-tabs">
    <li class="nav-item"><a class="nav-link" href="index.html"><i class="fas fa-user-graduate"></i> Student</a></li>
    <li class="nav-item"><a class="nav-link active" href="teachers.html"><i class="fas fa-chalkboard-teacher"></i> Teacher</a></li>
    <li class="nav-item"><a class="nav-link" href="subjects.html"><i class="fas fa-book"></i> Subject</a></li>
</ul>
<a href="#" class="btn btn-outline-danger btn-sm"><i class="fas fa-sign-out-alt"></i> Logout</a>
</div>
</div>

<!-- MAIN -->
<div class="container mt-4 mb-5">
<div class="card">
<div class="card-header d-flex justify-content-between align-items-center">
    <h4><i class="fas fa-chalkboard-teacher"></i> Teacher List</h4>
    <a href="add_teacher.html" class="btn btn-success">
        <i class="fas fa-user-plus"></i> Add Teacher
    </a>
</div>

<div class="card-body">

<table class="table table-hover">
<thead class="table-light">
<tr>
    <th>#</th>
    <th>Name</th>
    <th>Email</th>
    <th>Phone</th>
    <th>Department</th>
    <th>Status</th>
    <th>Action</th>
</tr>
</thead>
<tbody id="teacherTable"></tbody>
</table>

</div>
</div>
</div>

<footer class="text-center">
<p>Enrollment System Â© 2025</p>
<p class="small">IT ELEC 3 â€“ Data Mining</p>
</footer>

<script>
let teachers = JSON.parse(localStorage.getItem("teachers")) || [];
const teacherTable = document.getElementById("teacherTable");

/* ðŸ”’ Ensure all teachers have IDs */
teachers = teachers.map((t, index) => {
    if (!t.id) {
        t.id = Date.now() + index;
    }
    return t;
});
localStorage.setItem("teachers", JSON.stringify(teachers));

function renderTable() {
    teacherTable.innerHTML = "";

    if (teachers.length === 0) {
        teacherTable.innerHTML = `
            <tr>
                <td colspan="7" class="text-center text-muted">
                    No teachers found
                </td>
            </tr>`;
        return;
    }

    teachers.forEach((t, i) => {
        teacherTable.innerHTML += `
        <tr>
            <td>${i + 1}</td>
            <td>${t.firstName} ${t.lastName}</td>
            <td>${t.email || "N/A"}</td>
            <td>${t.phone || "N/A"}</td>
            <td>${t.department || "N/A"}</td>
            <td>
                <span class="badge ${t.status === "Active" ? "bg-success" : "bg-secondary"}">
                    ${t.status || "N/A"}
                </span>
            </td>
            <td>
                <button type="button" class="btn btn-primary btn-sm me-1"
                    onclick="editTeacher(${t.id})">
                    <i class="fas fa-edit"></i>
                </button>
                <button type="button" class="btn btn-danger btn-sm"
                    onclick="deleteTeacher(${t.id})">
                    <i class="fas fa-trash"></i>
                </button>
            </td>
        </tr>`;
    });
}

function editTeacher(id) {
    localStorage.setItem("editTeacherId", id);
    window.location.assign("edit_teacher.html");
}

function deleteTeacher(id) {
    if (!confirm("Delete this teacher?")) return;
    teachers = teachers.filter(t => t.id !== id);
    localStorage.setItem("teachers", JSON.stringify(teachers));
    renderTable();
}

renderTable();
</script>

</body>
</html>
